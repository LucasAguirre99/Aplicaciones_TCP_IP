apiVersion: v1
data:
  telegraf.conf: "[global_tags]\n  project = \"tcpipfinalproject\"\n\n[agent]\n  interval = \"10s\"\n  round_interval = true\n  metric_batch_size = 1000\n  metric_buffer_limit = 10000\n  collection_jitter = \"0s\"\n  flush_interval = \"10s\"\n  flush_jitter = \"0s\"\n  precision = \"0s\"\n  hostname = \"telegrafoutput\"\n  omit_hostname = false\n\n# Input plugin for Sonoff sensor data\n[[inputs.mqtt_consumer]]\n  servers = [\"emqx:1883\"]\n  topics = [\"sensor/sonoff/#\"]\n  qos = 2\n  username = \"sonoff\"\n  password = \"labiot2024\"\n  data_format = \"json\"\n  \n  #certificados\n  #tls_ca = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/ca.pem\"\n  #tls_cert = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.pem\"\n  #tls_key = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.key\"\n  \n  name_override = \"sonoff_measurement\"\n  tag_keys = [\"ENERGY\"]\n\n# Input plugin for DHT11 sensor data\n[[inputs.mqtt_consumer]]\n  servers = [\"emqx:1883\"]\n  topics = [\"sensor/dht11/#\"]\n  qos = 2\n  username = \"dht11\"\n  password = \"sebacrack\"\n  data_format = \"json\"\n\n  #certificados\n  #tls_ca = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/ca.pem\"\n  #tls_cert = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.pem\"\n  #tls_key = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.key\"\n\n  name_override = \"dht11_measurement\"\n  tag_keys = [\"DHT11\"]\n\n# Input plugin for Raspy sensor data\n[[inputs.mqtt_consumer]]\n  servers = [\"emqx:1883\"]\n  topics = [\"sensor/raspy/#\"]\n  qos = 2\n  username = \"raspy\"\n  password = \"tcpip2024\"\n  data_format = \"json\"\n  \n  #certificados\n  #tls_ca = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/ca.pem\"\n  #tls_cert = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.pem\"\n  #tls_key = \"/home/andres/Aplicaciones_TCP_IP/docs/03-Proyecto_Final/proyecto/server/seguridad/certs/client.key\"\n\n  name_override = \"raspy_measurement\"\n  tag_keys = [\"RASPY\"]\n\n[[outputs.influxdb_v2]]\n  urls = [\"http://influxdb:8086\"]\n  token = \"labtcpip-iotdata-auth-token\"\n  organization = \"labiot2024\"\n  bucket = \"iotdata\"\n"
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
    io.kompose.service: telegraf
  name: telegraf-cm0
  namespace: tcp-ip
